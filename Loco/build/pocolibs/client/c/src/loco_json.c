/* --- Generated by genom 2.99.29. Do not edit -------------------------- */

#include "autoconf/acheader.h"

#include <assert.h>
#include <errno.h>
#include <inttypes.h>
#include <limits.h>
#include <math.h>
#include <stdarg.h>
#include <stdint.h>
#include <stdio.h>
#include <stdlib.h>
#include <string.h>

#include "h2errorLib.h"

#include "loco/c/client.h"
#include "loco_json-types.h"
#include "private.h"


/* --- Service abort_activity encoding/decoding ------------------------- */

int
genom_loco_client_abort_activity_json_scan(
  struct genom_loco_abort_activity_input *in, const char *json,
  char **endptr)
{
  int s = 0;
  json_skip_whitespace(json);
  if (*(json++) != '{') { s = EINVAL; goto done; }
  json_skip_whitespace(json);
  while(*json != '}') {
    if (*(json++) != '"') { s = EINVAL; goto done; };
    if (!strncmp(json, "activity\"", 1+8)) {
      json += 1+8;
      json_skip_whitespace(json);
      if (*(json++) != ':') { s = EINVAL; goto done; }
      if ((s = json_scan_unsigned_long(
             &(in->activity), &json)))
        goto done;
    } else
    { s = EINVAL; goto done; }

    json_skip_whitespace(json);
    if (*json == ',') {
      json++;
      json_skip_whitespace(json);
    }
  }

done:
  if (endptr) *endptr = (char *)json;
  return s;
}

int
genom_loco_client_abort_activity_json_print(char **json,
             const struct genom_loco_abort_activity_output *out)
{
  size_t len;
  char *end;
  int s;
  (void)out; /* fix -Wunused-parameter */

  len = JSON_MINBUF;
  *json = end = malloc(len);
  if (!*json) return ENOMEM;

  if ((s = bufcat(json, &end, &len, 0, "{"))) goto done;


  if ((s = bufcat(json, &end, &len, 0, "}"))) goto done;

done:
  if (s && *json) {
    free(*json);
    *json = NULL;
  }
  return s;
}


/* --- Service connect_port encoding/decoding --------------------------- */

int
genom_loco_client_connect_port_json_scan(
  struct genom_loco_connect_port_input *in, const char *json,
  char **endptr)
{
  int s = 0;
  json_skip_whitespace(json);
  if (*(json++) != '{') { s = EINVAL; goto done; }
  json_skip_whitespace(json);
  while(*json != '}') {
    if (*(json++) != '"') { s = EINVAL; goto done; };
    if (!strncmp(json, "local\"", 1+5)) {
      json += 1+5;
      json_skip_whitespace(json);
      if (*(json++) != ':') { s = EINVAL; goto done; }
      if ((s = json_scan_string128(
             in->local, &json)))
        goto done;
    } else
    if (!strncmp(json, "remote\"", 1+6)) {
      json += 1+6;
      json_skip_whitespace(json);
      if (*(json++) != ':') { s = EINVAL; goto done; }
      if ((s = json_scan_string128(
             in->remote, &json)))
        goto done;
    } else
    { s = EINVAL; goto done; }

    json_skip_whitespace(json);
    if (*json == ',') {
      json++;
      json_skip_whitespace(json);
    }
  }

done:
  if (endptr) *endptr = (char *)json;
  return s;
}

int
genom_loco_client_connect_port_json_print(char **json,
             const struct genom_loco_connect_port_output *out)
{
  size_t len;
  char *end;
  int s;
  (void)out; /* fix -Wunused-parameter */

  len = JSON_MINBUF;
  *json = end = malloc(len);
  if (!*json) return ENOMEM;

  if ((s = bufcat(json, &end, &len, 0, "{"))) goto done;


  if ((s = bufcat(json, &end, &len, 0, "}"))) goto done;

done:
  if (s && *json) {
    free(*json);
    *json = NULL;
  }
  return s;
}


/* --- Service connect_service encoding/decoding ------------------------ */

int
genom_loco_client_connect_service_json_scan(
  struct genom_loco_connect_service_input *in, const char *json,
  char **endptr)
{
  int s = 0;
  json_skip_whitespace(json);
  if (*(json++) != '{') { s = EINVAL; goto done; }
  json_skip_whitespace(json);
  while(*json != '}') {
    if (*(json++) != '"') { s = EINVAL; goto done; };
    if (!strncmp(json, "local\"", 1+5)) {
      json += 1+5;
      json_skip_whitespace(json);
      if (*(json++) != ':') { s = EINVAL; goto done; }
      if ((s = json_scan_string128(
             in->local, &json)))
        goto done;
    } else
    if (!strncmp(json, "remote\"", 1+6)) {
      json += 1+6;
      json_skip_whitespace(json);
      if (*(json++) != ':') { s = EINVAL; goto done; }
      if ((s = json_scan_string128(
             in->remote, &json)))
        goto done;
    } else
    { s = EINVAL; goto done; }

    json_skip_whitespace(json);
    if (*json == ',') {
      json++;
      json_skip_whitespace(json);
    }
  }

done:
  if (endptr) *endptr = (char *)json;
  return s;
}

int
genom_loco_client_connect_service_json_print(char **json,
             const struct genom_loco_connect_service_output *out)
{
  size_t len;
  char *end;
  int s;
  (void)out; /* fix -Wunused-parameter */

  len = JSON_MINBUF;
  *json = end = malloc(len);
  if (!*json) return ENOMEM;

  if ((s = bufcat(json, &end, &len, 0, "{"))) goto done;


  if ((s = bufcat(json, &end, &len, 0, "}"))) goto done;

done:
  if (s && *json) {
    free(*json);
    *json = NULL;
  }
  return s;
}


/* --- Service kill encoding/decoding ----------------------------------- */

int
genom_loco_client_kill_json_scan(
  struct genom_loco_kill_input *in, const char *json,
  char **endptr)
{
  int s = 0;
  (void)in; /* fix -Wunused-parameter */
  json_skip_whitespace(json);
  if (*(json++) != '{') { s = EINVAL; goto done; }
  json_skip_whitespace(json);
  while(*json != '}') {
    if (*(json++) != '"') { s = EINVAL; goto done; };
    { s = EINVAL; goto done; }

    json_skip_whitespace(json);
    if (*json == ',') {
      json++;
      json_skip_whitespace(json);
    }
  }

done:
  if (endptr) *endptr = (char *)json;
  return s;
}

int
genom_loco_client_kill_json_print(char **json,
             const struct genom_loco_kill_output *out)
{
  size_t len;
  char *end;
  int s;
  (void)out; /* fix -Wunused-parameter */

  len = JSON_MINBUF;
  *json = end = malloc(len);
  if (!*json) return ENOMEM;

  if ((s = bufcat(json, &end, &len, 0, "{"))) goto done;


  if ((s = bufcat(json, &end, &len, 0, "}"))) goto done;

done:
  if (s && *json) {
    free(*json);
    *json = NULL;
  }
  return s;
}


/* --- Service GetCurrentPosition encoding/decoding --------------------- */

int
genom_loco_client_GetCurrentPosition_json_scan(
  struct genom_loco_GetCurrentPosition_input *in, const char *json,
  char **endptr)
{
  int s = 0;
  (void)in; /* fix -Wunused-parameter */
  json_skip_whitespace(json);
  if (*(json++) != '{') { s = EINVAL; goto done; }
  json_skip_whitespace(json);
  while(*json != '}') {
    if (*(json++) != '"') { s = EINVAL; goto done; };
    { s = EINVAL; goto done; }

    json_skip_whitespace(json);
    if (*json == ',') {
      json++;
      json_skip_whitespace(json);
    }
  }

done:
  if (endptr) *endptr = (char *)json;
  return s;
}

int
genom_loco_client_GetCurrentPosition_json_print(char **json,
             const struct genom_loco_GetCurrentPosition_output *out)
{
  size_t len;
  char *end;
  int s;

  len = JSON_MINBUF;
  *json = end = malloc(len);
  if (!*json) return ENOMEM;

  if ((s = bufcat(json, &end, &len, 0, "{"))) goto done;

  if ((s = bufcat(json, &end, &len, 0, "\"position\":")))
    goto done;
  if ((s = json_print_t_camera_robot(json, &end, &len,
         &(out->position))))
    goto done;

  if ((s = bufcat(json, &end, &len, 0, "}"))) goto done;

done:
  if (s && *json) {
    free(*json);
    *json = NULL;
  }
  return s;
}


/* --- Service GetCurrentBattery encoding/decoding ---------------------- */

int
genom_loco_client_GetCurrentBattery_json_scan(
  struct genom_loco_GetCurrentBattery_input *in, const char *json,
  char **endptr)
{
  int s = 0;
  (void)in; /* fix -Wunused-parameter */
  json_skip_whitespace(json);
  if (*(json++) != '{') { s = EINVAL; goto done; }
  json_skip_whitespace(json);
  while(*json != '}') {
    if (*(json++) != '"') { s = EINVAL; goto done; };
    { s = EINVAL; goto done; }

    json_skip_whitespace(json);
    if (*json == ',') {
      json++;
      json_skip_whitespace(json);
    }
  }

done:
  if (endptr) *endptr = (char *)json;
  return s;
}

int
genom_loco_client_GetCurrentBattery_json_print(char **json,
             const struct genom_loco_GetCurrentBattery_output *out)
{
  size_t len;
  char *end;
  int s;

  len = JSON_MINBUF;
  *json = end = malloc(len);
  if (!*json) return ENOMEM;

  if ((s = bufcat(json, &end, &len, 0, "{"))) goto done;

  if ((s = bufcat(json, &end, &len, 0, "\"batterie\":")))
    goto done;
  if ((s = json_print_t_loco_data(json, &end, &len,
         &(out->batterie))))
    goto done;

  if ((s = bufcat(json, &end, &len, 0, "}"))) goto done;

done:
  if (s && *json) {
    free(*json);
    *json = NULL;
  }
  return s;
}


/* --- Service GetCurrentMap encoding/decoding -------------------------- */

int
genom_loco_client_GetCurrentMap_json_scan(
  struct genom_loco_GetCurrentMap_input *in, const char *json,
  char **endptr)
{
  int s = 0;
  (void)in; /* fix -Wunused-parameter */
  json_skip_whitespace(json);
  if (*(json++) != '{') { s = EINVAL; goto done; }
  json_skip_whitespace(json);
  while(*json != '}') {
    if (*(json++) != '"') { s = EINVAL; goto done; };
    { s = EINVAL; goto done; }

    json_skip_whitespace(json);
    if (*json == ',') {
      json++;
      json_skip_whitespace(json);
    }
  }

done:
  if (endptr) *endptr = (char *)json;
  return s;
}

int
genom_loco_client_GetCurrentMap_json_print(char **json,
             const struct genom_loco_GetCurrentMap_output *out)
{
  size_t len;
  char *end;
  int s;

  len = JSON_MINBUF;
  *json = end = malloc(len);
  if (!*json) return ENOMEM;

  if ((s = bufcat(json, &end, &len, 0, "{"))) goto done;

  if ((s = bufcat(json, &end, &len, 0, "\"image\":")))
    goto done;
  if ((s = json_print_t_camera_map(json, &end, &len,
         &(out->image))))
    goto done;

  if ((s = bufcat(json, &end, &len, 0, "}"))) goto done;

done:
  if (s && *json) {
    free(*json);
    *json = NULL;
  }
  return s;
}


/* --- Service GetCurrentArena encoding/decoding ------------------------ */

int
genom_loco_client_GetCurrentArena_json_scan(
  struct genom_loco_GetCurrentArena_input *in, const char *json,
  char **endptr)
{
  int s = 0;
  (void)in; /* fix -Wunused-parameter */
  json_skip_whitespace(json);
  if (*(json++) != '{') { s = EINVAL; goto done; }
  json_skip_whitespace(json);
  while(*json != '}') {
    if (*(json++) != '"') { s = EINVAL; goto done; };
    { s = EINVAL; goto done; }

    json_skip_whitespace(json);
    if (*json == ',') {
      json++;
      json_skip_whitespace(json);
    }
  }

done:
  if (endptr) *endptr = (char *)json;
  return s;
}

int
genom_loco_client_GetCurrentArena_json_print(char **json,
             const struct genom_loco_GetCurrentArena_output *out)
{
  size_t len;
  char *end;
  int s;

  len = JSON_MINBUF;
  *json = end = malloc(len);
  if (!*json) return ENOMEM;

  if ((s = bufcat(json, &end, &len, 0, "{"))) goto done;

  if ((s = bufcat(json, &end, &len, 0, "\"arene\":")))
    goto done;
  if ((s = json_print_t_camera_arena(json, &end, &len,
         &(out->arene))))
    goto done;

  if ((s = bufcat(json, &end, &len, 0, "}"))) goto done;

done:
  if (s && *json) {
    free(*json);
    *json = NULL;
  }
  return s;
}


/* --- Service MoveStop encoding/decoding ------------------------------- */

int
genom_loco_client_MoveStop_json_scan(
  struct genom_loco_MoveStop_input *in, const char *json,
  char **endptr)
{
  int s = 0;
  (void)in; /* fix -Wunused-parameter */
  json_skip_whitespace(json);
  if (*(json++) != '{') { s = EINVAL; goto done; }
  json_skip_whitespace(json);
  while(*json != '}') {
    if (*(json++) != '"') { s = EINVAL; goto done; };
    { s = EINVAL; goto done; }

    json_skip_whitespace(json);
    if (*json == ',') {
      json++;
      json_skip_whitespace(json);
    }
  }

done:
  if (endptr) *endptr = (char *)json;
  return s;
}

int
genom_loco_client_MoveStop_json_print(char **json,
             const struct genom_loco_MoveStop_output *out)
{
  size_t len;
  char *end;
  int s;
  (void)out; /* fix -Wunused-parameter */

  len = JSON_MINBUF;
  *json = end = malloc(len);
  if (!*json) return ENOMEM;

  if ((s = bufcat(json, &end, &len, 0, "{"))) goto done;


  if ((s = bufcat(json, &end, &len, 0, "}"))) goto done;

done:
  if (s && *json) {
    free(*json);
    *json = NULL;
  }
  return s;
}


/* --- Service BattStop encoding/decoding ------------------------------- */

int
genom_loco_client_BattStop_json_scan(
  struct genom_loco_BattStop_input *in, const char *json,
  char **endptr)
{
  int s = 0;
  (void)in; /* fix -Wunused-parameter */
  json_skip_whitespace(json);
  if (*(json++) != '{') { s = EINVAL; goto done; }
  json_skip_whitespace(json);
  while(*json != '}') {
    if (*(json++) != '"') { s = EINVAL; goto done; };
    { s = EINVAL; goto done; }

    json_skip_whitespace(json);
    if (*json == ',') {
      json++;
      json_skip_whitespace(json);
    }
  }

done:
  if (endptr) *endptr = (char *)json;
  return s;
}

int
genom_loco_client_BattStop_json_print(char **json,
             const struct genom_loco_BattStop_output *out)
{
  size_t len;
  char *end;
  int s;
  (void)out; /* fix -Wunused-parameter */

  len = JSON_MINBUF;
  *json = end = malloc(len);
  if (!*json) return ENOMEM;

  if ((s = bufcat(json, &end, &len, 0, "{"))) goto done;


  if ((s = bufcat(json, &end, &len, 0, "}"))) goto done;

done:
  if (s && *json) {
    free(*json);
    *json = NULL;
  }
  return s;
}


/* --- Service StartMove encoding/decoding ------------------------------ */

int
genom_loco_client_StartMove_json_scan(
  struct genom_loco_StartMove_input *in, const char *json,
  char **endptr)
{
  int s = 0;
  (void)in; /* fix -Wunused-parameter */
  json_skip_whitespace(json);
  if (*(json++) != '{') { s = EINVAL; goto done; }
  json_skip_whitespace(json);
  while(*json != '}') {
    if (*(json++) != '"') { s = EINVAL; goto done; };
    { s = EINVAL; goto done; }

    json_skip_whitespace(json);
    if (*json == ',') {
      json++;
      json_skip_whitespace(json);
    }
  }

done:
  if (endptr) *endptr = (char *)json;
  return s;
}

int
genom_loco_client_StartMove_json_print(char **json,
             const struct genom_loco_StartMove_output *out)
{
  size_t len;
  char *end;
  int s;
  (void)out; /* fix -Wunused-parameter */

  len = JSON_MINBUF;
  *json = end = malloc(len);
  if (!*json) return ENOMEM;

  if ((s = bufcat(json, &end, &len, 0, "{"))) goto done;


  if ((s = bufcat(json, &end, &len, 0, "}"))) goto done;

done:
  if (s && *json) {
    free(*json);
    *json = NULL;
  }
  return s;
}


/* --- Service StartBatt encoding/decoding ------------------------------ */

int
genom_loco_client_StartBatt_json_scan(
  struct genom_loco_StartBatt_input *in, const char *json,
  char **endptr)
{
  int s = 0;
  (void)in; /* fix -Wunused-parameter */
  json_skip_whitespace(json);
  if (*(json++) != '{') { s = EINVAL; goto done; }
  json_skip_whitespace(json);
  while(*json != '}') {
    if (*(json++) != '"') { s = EINVAL; goto done; };
    { s = EINVAL; goto done; }

    json_skip_whitespace(json);
    if (*json == ',') {
      json++;
      json_skip_whitespace(json);
    }
  }

done:
  if (endptr) *endptr = (char *)json;
  return s;
}

int
genom_loco_client_StartBatt_json_print(char **json,
             const struct genom_loco_StartBatt_output *out)
{
  size_t len;
  char *end;
  int s;
  (void)out; /* fix -Wunused-parameter */

  len = JSON_MINBUF;
  *json = end = malloc(len);
  if (!*json) return ENOMEM;

  if ((s = bufcat(json, &end, &len, 0, "{"))) goto done;


  if ((s = bufcat(json, &end, &len, 0, "}"))) goto done;

done:
  if (s && *json) {
    free(*json);
    *json = NULL;
  }
  return s;
}



/* --- Port genom_state encoding ---------------------------------------- */

int
genom_loco_client_genom_state_json_print(char **json,
  const genom_state_component *data)
{
  size_t len;
  char *end;
  int s;

  len = JSON_MINBUF;
  *json = end = malloc(len);
  if (!*json) return ENOMEM;

  if ((s = bufcat(json, &end, &len, 0, "{"))) goto done;

  if ((s = bufcat(json, &end, &len, 0, "\"genom_state\":")))
    goto done;
  if ((s = json_print_t_genom_state_component(json, &end, &len, data)))
    goto done;

  if ((s = bufcat(json, &end, &len, 0, "}"))) goto done;

done:
  if (s && *json) {
    free(*json);
    *json = NULL;
  }
  return s;
}


/* --- Port BAT encoding ------------------------------------------------ */

int
genom_loco_client_BAT_json_print(char **json,
  const loco_data *data)
{
  size_t len;
  char *end;
  int s;

  len = JSON_MINBUF;
  *json = end = malloc(len);
  if (!*json) return ENOMEM;

  if ((s = bufcat(json, &end, &len, 0, "{"))) goto done;

  if ((s = bufcat(json, &end, &len, 0, "\"BAT\":")))
    goto done;
  if ((s = json_print_t_loco_data(json, &end, &len, data)))
    goto done;

  if ((s = bufcat(json, &end, &len, 0, "}"))) goto done;

done:
  if (s && *json) {
    free(*json);
    *json = NULL;
  }
  return s;
}


/* --- loco_json_error -------------------------------------------------- */

char *
genom_loco_client_json_error(genom_client h,
                         genom_event e, const void *detail)
{
  char *s, *end;
  size_t len;

  len = JSON_MINBUF;
  s = end = malloc(len);
  if (!s) return NULL;

  if (!e && h) detail = h->context.raised(&e, &h->context);

  if (e == genom_syserr_id) {
    if (bufcat(&s, &end, &len, 0, "\"")) return NULL;
    if (bufcat(&s, &end, &len, 1,
               strerror(((genom_syserr_detail *)detail)->code))) return NULL;
    if (bufcat(&s, &end, &len, 0, "\"")) return NULL;
    return s;
  } else if (e == genom_unkex_id) {
    if (bufcat(&s, &end, &len, 0, "{\"ex\":\"")) return NULL;
    if (bufcat(&s, &end, &len, 0, genom_unkex_id)) return NULL;
    if (detail) {
      if (bufcat(&s, &end, &len, 0, "\",\"detail\":{\"what\":\"")) return NULL;
      if (bufcat(&s, &end, &len, 1,
                 ((genom_unkex_detail *)detail)->what)) return NULL;
    }
    if (bufcat(&s, &end, &len, 0, "\"}}")) return NULL;
    return s;
  }
  else if (e == genom_incompatible_digest_id) {
    if (bufcat(&s, &end, &len, 0, "{\"ex\":\"")) return NULL;
    if (bufcat(&s, &end, &len, 0, genom_incompatible_digest_id)) return NULL;
    if (detail) {
      if (bufcat(&s, &end, &len, 0, "\",\"detail\":")) return NULL;
      if (json_print_t_genom_incompatible_digest(&s, &end, &len, detail)) return NULL;
    }
    if (bufcat(&s, &end, &len, 0, "}")) return NULL;
    return s;
  }
  else if (e == genom_bad_transition_id) {
    if (bufcat(&s, &end, &len, 0, "{\"ex\":\"")) return NULL;
    if (bufcat(&s, &end, &len, 0, genom_bad_transition_id)) return NULL;
    if (detail) {
      if (bufcat(&s, &end, &len, 0, "\",\"detail\":")) return NULL;
      if (json_print_t_genom_bad_transition(&s, &end, &len, detail)) return NULL;
    }
    if (bufcat(&s, &end, &len, 0, "}")) return NULL;
    return s;
  }
  else if (e == genom_interrupted_id) {
    if (bufcat(&s, &end, &len, 0, "{\"ex\":\"")) return NULL;
    if (bufcat(&s, &end, &len, 0, genom_interrupted_id)) return NULL;
    if (detail) {
      if (bufcat(&s, &end, &len, 0, "\",\"detail\":")) return NULL;
      if (json_print_t_genom_interrupted(&s, &end, &len, detail)) return NULL;
    }
    if (bufcat(&s, &end, &len, 0, "}")) return NULL;
    return s;
  }
  else if (e == genom_serialization_id) {
    if (bufcat(&s, &end, &len, 0, "{\"ex\":\"")) return NULL;
    if (bufcat(&s, &end, &len, 0, genom_serialization_id)) return NULL;
    if (bufcat(&s, &end, &len, 0, "\"}")) return NULL;
    return s;
  }
  else if (e == genom_too_many_activities_id) {
    if (bufcat(&s, &end, &len, 0, "{\"ex\":\"")) return NULL;
    if (bufcat(&s, &end, &len, 0, genom_too_many_activities_id)) return NULL;
    if (bufcat(&s, &end, &len, 0, "\"}")) return NULL;
    return s;
  }
  else if (e == genom_disallowed_id) {
    if (bufcat(&s, &end, &len, 0, "{\"ex\":\"")) return NULL;
    if (bufcat(&s, &end, &len, 0, genom_disallowed_id)) return NULL;
    if (bufcat(&s, &end, &len, 0, "\"}")) return NULL;
    return s;
  }
  else if (e == genom_mwerr_id) {
    if (bufcat(&s, &end, &len, 0, "{\"ex\":\"")) return NULL;
    if (bufcat(&s, &end, &len, 0, genom_mwerr_id)) return NULL;
    if (detail) {
      if (bufcat(&s, &end, &len, 0, "\",\"detail\":")) return NULL;
      if (json_print_t_genom_mwerr(&s, &end, &len, detail)) return NULL;
    }
    if (bufcat(&s, &end, &len, 0, "}")) return NULL;
    return s;
  }
  else if (e == genom_no_such_activity_id) {
    if (bufcat(&s, &end, &len, 0, "{\"ex\":\"")) return NULL;
    if (bufcat(&s, &end, &len, 0, genom_no_such_activity_id)) return NULL;
    if (bufcat(&s, &end, &len, 0, "\"}")) return NULL;
    return s;
  }
  else if (e == genom_no_such_inport_id) {
    if (bufcat(&s, &end, &len, 0, "{\"ex\":\"")) return NULL;
    if (bufcat(&s, &end, &len, 0, genom_no_such_inport_id)) return NULL;
    if (bufcat(&s, &end, &len, 0, "\"}")) return NULL;
    return s;
  }
  else if (e == genom_no_such_outport_id) {
    if (bufcat(&s, &end, &len, 0, "{\"ex\":\"")) return NULL;
    if (bufcat(&s, &end, &len, 0, genom_no_such_outport_id)) return NULL;
    if (bufcat(&s, &end, &len, 0, "\"}")) return NULL;
    return s;
  }
  else if (e == genom_port_io_id) {
    if (bufcat(&s, &end, &len, 0, "{\"ex\":\"")) return NULL;
    if (bufcat(&s, &end, &len, 0, genom_port_io_id)) return NULL;
    if (bufcat(&s, &end, &len, 0, "\"}")) return NULL;
    return s;
  }
  else if (e == genom_no_such_remote_id) {
    if (bufcat(&s, &end, &len, 0, "{\"ex\":\"")) return NULL;
    if (bufcat(&s, &end, &len, 0, genom_no_such_remote_id)) return NULL;
    if (bufcat(&s, &end, &len, 0, "\"}")) return NULL;
    return s;
  }
  else if (e == genom_no_such_service_id) {
    if (bufcat(&s, &end, &len, 0, "{\"ex\":\"")) return NULL;
    if (bufcat(&s, &end, &len, 0, genom_no_such_service_id)) return NULL;
    if (bufcat(&s, &end, &len, 0, "\"}")) return NULL;
    return s;
  }
  else if (e == genom_remote_io_id) {
    if (bufcat(&s, &end, &len, 0, "{\"ex\":\"")) return NULL;
    if (bufcat(&s, &end, &len, 0, genom_remote_io_id)) return NULL;
    if (bufcat(&s, &end, &len, 0, "\"}")) return NULL;
    return s;
  }
  else if (e == loco_INVALID_ORDER_id) {
    if (bufcat(&s, &end, &len, 0, "{\"ex\":\"")) return NULL;
    if (bufcat(&s, &end, &len, 0, loco_INVALID_ORDER_id)) return NULL;
    if (bufcat(&s, &end, &len, 0, "\"}")) return NULL;
    return s;
  }
  else if (e == loco_INVALID_DATA_id) {
    if (bufcat(&s, &end, &len, 0, "{\"ex\":\"")) return NULL;
    if (bufcat(&s, &end, &len, 0, loco_INVALID_DATA_id)) return NULL;
    if (bufcat(&s, &end, &len, 0, "\"}")) return NULL;
    return s;
  }

  assert(!"unknown genom exception");
  return NULL;
}
